<h1 align="center">Health Consult AI</h1>

<div align="center">
  <p><strong>Premium, AI-Powered Health Consultation Management System</strong></p>
  
  [![Next.js](https://img.shields.io/badge/Next.js-16.1-000000?style=for-the-badge&logo=next.js)](https://nextjs.org/)
  [![Django](https://img.shields.io/badge/Django-5.2-092E20.svg?style=for-the-badge&logo=django&logoColor=white)](https://djangoproject.com/)
  [![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-316192?style=for-the-badge&logo=postgresql&logoColor=white)](https://postgresql.org)
  [![Redis](https://img.shields.io/badge/Redis-7.0-DC382D?style=for-the-badge&logo=redis&logoColor=white)](https://redis.io)
  [![OpenAI](https://img.shields.io/badge/OpenAI-Powered-412991.svg?style=for-the-badge&logo=openai&logoColor=white)](https://openai.com/)
  [![Tailwind](https://img.shields.io/badge/Tailwind_CSS-4.0-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white)](https://tailwindcss.com/)
</div>

<hr/>

## ğŸ“– Overview

**Health Consult AI** is a state-of-the-art, full-stack health consultation platform. It combines a high-performance **Django REST Framework** backend with a modern **Next.js** frontend, all orchestrated via **Docker** and secured by an **Nginx** reverse proxy.

The system features intelligent, asynchronous AI medical summaries generated by **OpenAI models**, distributed through **Celery** workers, and tracked via **Redis**.

---

## âœ¨ Key Features

- ğŸ¤– **AI-Generated Summaries**: Asynchronous processing of consultation notes into professional medical summaries using OpenAI.
- ğŸ“‹ **Patient Management**: Complete lifecycle tracking for patient records including ascending alphabetical ordering.
- ğŸ” **Advanced Filtering**: Filter consultations dynamically by patient with a real-time responsive UI.
- ğŸ“„ **Smart Pagination**: Full pagination support across lists, with persistence of filter parameters across pages.
- ğŸš€ **Nginx Reverse Proxy**: Unified entry point on Port 80, routing traffic seamlessly between Frontend, Backend, and Static/Media assets.
- ğŸ› ï¸ **Developer Experience**: Automatic migrations, health checks, and comprehensive API documentation.

---

## ğŸ—ï¸ System Architecture

The application is fully containerized using a multi-container Docker architecture:

- **Nginx**: The entry point/reverse proxy.
- **Frontend**: Next.js (SSR) application.
- **Backend**: Django (Gunicorn) API service.
- **Celery Worker**: Asynchronous task processor for AI interactions.
- **PostgreSQL**: Robust persistent data storage.
- **Redis**: Message broker and task state storage for Celery.

---

## ğŸ› ï¸ Tech Stack

| Domain | Technology |
| :--- | :--- |
| **Frontend** | Next.js 16, React 19, TypeScript, Tailwind CSS 4 |
| **Backend** | Django 5.2, DRF 3.15, django-filter |
| **Database** | PostgreSQL 16 (psycopg 3) |
| **Async Tasks** | Celery 5.4, Redis 7 |
| **AI** | OpenAI Python SDK |
| **Networking** | Nginx (Reverse Proxy) |
| **Infrastructure** | Docker, Docker Compose |

---

## ğŸš€ Getting Started

### Prerequisites
- [Docker](https://docs.docker.com/get-docker/) & [Docker Compose](https://docs.docker.com/compose/install/)

### Installation & Deployment

1. **Environment Config**:
   Copy the example environment file in the backend directory:
   ```bash
   cp backend/.env.example backend/.env
   ```
   *Ensure you add your `OPENAI_API_KEY` to the `.env` file.*

2. **Spin Up Containers**:
   ```bash
   docker compose up -d --build
   ```

### Access the Application
- **Frontend**: [http://localhost](http://localhost)
- **API Base**: [http://localhost/api/](http://localhost/api/)
- **Django Admin**: [http://localhost/admin/](http://localhost/admin/)

### ğŸ’» Local Development (Non-Docker)

If you prefer to run the application locally without Docker (IDK why you would prefer this ğŸ’€):

#### ğŸ Backend
1. **Navigate**: `cd backend`
2. **Environment**: `python -m venv .venv` and activate it (`.\.venv\Scripts\activate`).
3. **Dependencies**: `pip install -r requirements.txt`
4. **Database**: Ensure PostgreSQL is running or switch to SQLite in `.env` for quick tests.
5. **Run**: `python manage.py runserver`

#### âš™ï¸ Celery Worker (Windows)
1. **Broker**: Ensure Redis is running (e.g., via Docker or installed locally).
2. **Setup**: From the `backend` folder with `.venv` active:
3. **Run**: `celery -A core worker -l info -P solo`
   > [!NOTE]
   > On Windows, the `-P solo` (or `eventlet`) pool is required because the default `prefork` pool is not supported.

#### âš›ï¸ Frontend
1. **Navigate**: `cd frontend`
2. **Dependencies**: `npm install`
3. **Run**: `npm run dev` (Access at `http://localhost:3000`)

---

## ğŸ“š API Documentation

The project includes automatically generated OpenAPI documentation via `drf-spectacular`:

- **Swagger UI**: [http://localhost/api/schema/swagger-ui/](http://localhost/api/schema/swagger-ui/)
- **ReDoc**: [http://localhost/api/schema/redoc/](http://localhost/api/schema/redoc/)

---

## ğŸ—ï¸ Project Structure

```text
health-consultant/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ core/              # Deployment settings & routing
â”‚   â”œâ”€â”€ consultations/     # API logic, Models, and AI Tasks
â”‚   â””â”€â”€ Dockerfile         # Python environment definition
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ app/               # Next.js App Router (Consultations, Patients)
â”‚   â”œâ”€â”€ components/        # Reusable UI components (Pagination, etc.)
â”‚   â””â”€â”€ tailwind.config.ts # Styling configuration
â”œâ”€â”€ nginx/
â”‚   â””â”€â”€ default.conf       # Reverse proxy routing rules
â””â”€â”€ docker-compose.yml     # Orchestration for all services
```

---

## ğŸ§¹ Maintenance & Resets

To reset the database and start with a fresh environment (including consolidated migrations):
```bash
docker compose down -v
docker compose up --build
```
